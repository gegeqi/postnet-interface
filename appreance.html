<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="./node_modules/jquery/dist/jquery.js"></script>

    <title>Bootstrap 101 Template</title>
    <link rel="stylesheet" href="appreance.css" type="text/css">

    <script>
        $(document).ready(function () {
            $('#btn').click(function () {
                var $input = $('#info').val();
                if ($input === '') {
                    $('#err').html('err,the input cannot be null!');
                } else {
                    var $choice = $('input[type="radio"]:checked').val();
                    if ($choice === 'Barcode to Zipcode') {
                        $.get('http://localhost:3000/express/barcode?code=' + $input, function (data, status) {
                            if(data==='ERR:the input is illegal!V_V'){
                                $('#err').html(data);
                            }else {
                                $('#result').html(data);
                            }
                        });

                    } else {
                        $.get('http://localhost:3000/express/postcode?code=' + $input,
                                function (data, status) {
                                    //alert(data);
                                    if (data === 'ERR:the input is illegal!V_V') {
                                        $('#err').html(data);
                                    } else {
                                        $('#result').html(data);
                                    }
                                });
                    }
                }
            });
            $('#info').focus(function () {
                $('#err').html('');
            });
        });
    </script>


</head>

<body>
<div>
<section>
    <h1>POST-NET</h1>
    <form>
        <label for="info">Input code:</label>
        <input id='info' placeholder="please input code here" type="text" name="name"><br>
        <span id="err"></span><br>
        <label id="label" for="result">Result</label>
        <span id="result"></span>
        <br><br>

        <input id="barcode" type="radio" name="sel" value="Barcode to Zipcode" checked>Barcode to Zipcode
        <input id="postcode" type="radio" name="sel" value="Zipcode to Barcode">Zipcode to Barcode
        <br><br>
        <button id='btn' class="btn btn-info" type="button">OK</button>
        <br><br>
    </form>
</section>

<section id="section2">
    <h3>History</h3>
    <hr>
    <h5>Code Result</h5>
    <hr>
    <h5>blah blah blah blah</h5>
    <hr>
    <h5>blah blah blah blah</h5>
    <hr>
</section>
</div>
</body>
</html>